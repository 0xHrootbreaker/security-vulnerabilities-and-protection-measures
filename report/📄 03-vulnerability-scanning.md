# 03. Vulnerability Scanning

This phase focuses on identifying whether the Windows 7 target system is vulnerable to the  
**MS17-010 (EternalBlue)** exploit. Scanning is done using **Nmap** and validated using  
**manual checks** and **SMB enumeration**.

---

## 1. Objective of Scanning

The purpose of this scanning phase is to:

- Detect if the SMBv1 service is enabled  
- Check if port **445** is open  
- Identify if the system is vulnerable to **MS17-010**  
- Collect useful information for exploitation  

---

## 2. Network Discovery

The first step is to confirm that the victim machine is reachable from the attacker machine.

### 2.1 Ping the Target
ping 192.168.56.10

Expected result:      
- Target responds successfully  
- Confirms network connectivity  

---

## 3. SMB Port Scanning

### 3.1 Scan Port 445 (SMB)
Port 445 is required for the EternalBlue exploit.

nmap -p445 192.168.56.10

Expected output:
445/tcp open microsoft-ds

If the port is closed, the exploit will not work.

---

## 4. EternalBlue Direct Scan

Nmap has a built-in script specifically for detecting the MS17-010 vulnerability.

### 4.1 Vulnerability Scan Command
nmap --script smb-vuln-ms17-010 -p445 192.168.56.10
### Expected Output (VULNERABLE)
Host is likely VULNERABLE to MS17-010!

This confirms the system is susceptible to EternalBlue.

---

## 5. SMB Version Enumeration

To verify SMBv1 is enabled:

### 5.1 Enumerate SMB Protocol Versions
nmap --script smb-protocols -p445 192.168.56.10
Expected:
SMBv1: enabled
SMBv2: enabled/disabled (depends on OS)

SMBv1 being active is a major indicator of risk.

---

## 6. OS Detection

Optional but helpful:

### 6.1 OS Fingerprinting
nmap -O 192.168.56.10

Expected:
Windows 7 Professional SP1

This confirms OS version and patch level.

---

## 7. Manual Verification (Windows 7)

On the victim machine:

### 7.1 Check Installed Patches
Navigate to: Control Panel → Windows Update → View Installed Updates


Verify:

❌ **KB4012212 or KB4012215 not installed**  
# (These are MS17-010 patches)

---

## 8. SMB Traffic Analysis (Optional)

Using Wireshark on Kali:

### 8.1 Capture Traffic
Set filter: smb || tcp.port == 445


You should see:

- SMB negotiation  
- SMBv1 commands  
- Session setup requests  

This confirms active SMB communications.

---

## 9. Summary of Findings

After scanning and enumeration, the system was confirmed to be:

- ✔ Reachable  
- ✔ Running Windows 7  
- ✔ SMB port 445 open  
- ✔ SMBv1 enabled  
- ✔ Vulnerable to **MS17-010 (EternalBlue)**  
- ✔ Missing required security patches  

This means the system **can be exploited** using the EternalBlue Metasploit module.

The next stage demonstrates the full exploitation process.












